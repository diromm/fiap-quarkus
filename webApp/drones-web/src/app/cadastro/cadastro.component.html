<p-toast></p-toast>
<p-accordion>
  <p-accordionTab header="Cadastrar novo Drone">
    <form [formGroup]="form">
      <div class="p-grid">
        <div class="p-field p-col-4">
          <span><i class="pi pi-prime"></i></span>
          <input pInputText type="text" placeholder="Nome Drone" formControlName="nomeDrone">
        </div>
        <br>
        <div class="p-field p-col-4">
          <span><i class="pi pi-globe"></i></span>
          <input pInputText type="number" placeholder="Latitude" formControlName="latitudeDrone">
        </div>
        <br>
        <div class="p-field p-col-4">
          <span><i class="pi pi-globe"></i></span>
          <input pInputText type="number" placeholder="Longitude" formControlName="longitudeDrone">
        </div>
        <br>
        <div class="p-field p-col-4">
          <span><i class="pi pi-circle"></i></span>
          <input pInputText type="number" placeholder="Temperatura" formControlName="temperatura">
        </div>
        <br>
        <div class="p-field p-col-4">
          <span><i class="pi pi-circle-fill"></i></span>
          <input pInputText type="number" placeholder="umidade" formControlName="umidade">
        </div>
        <br>
        <div class="p-field p-col-4">
          <span><i class="pi pi-map-marker"></i></span>
          <input pInputText type="text" placeholder="rastreando" formControlName="rastreando">
        </div>
        <br>
        <div class="p-col-4">
          <button pButton type="button" [attr.aria-label]="'Criar novo Drone'" label="Cadastrar Novo Drone"
            [disabled]="!form.valid" (click)="inputDrones()"></button>
        </div>
      </div>
    </form>
  </p-accordionTab>
  <p-accordionTab header="Alterar Drones">
    <p-table [value]="droneSource" dataKey="idDrone" responsiveLayout="scroll" [scrollable]="true"
      scrollHeight="400px" [hidden]="droneSource.length == 0">
      <ng-template pTemplate="header">
        <tr>
          <th>ID do Drone</th>
          <th>Nome do Drone</th>
          <th>Latitude</th>
          <th>Longitude</th>
          <th>Temperatura</th>
          <th>Umidade</th>
          <th>Rastreando</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user let-expanded="expanded">
        <tr [pSelectableRow]="user">
          <td>{{ user.idDrone }}</td>
          <td>{{ user.nomeDrone }}</td>
          <td>{{ user.latitudeDrone }}</td>
          <td>{{ user.longitudeDrone }}</td>
          <td>{{ user.temperatura}} </td>
          <td>{{ user.umidade}} </td>
          <td>{{ user.rastreando}} </td>
          <!-- <td>
            <button pButton pRipple type="button" icon="pi pi-sync" class="p-button-rounded p-button-text p-button-info"
              (click)="alteraPagamento(user, 2)" pTooltip="Processar Pagamento"></button>
          </td> -->
          <!-- <td>
            <button pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded p-button-text p-button-info"
              (click)="alteraPagamento(user, 3)" pTooltip="Processar Pagamento"></button>
          </td> -->
        </tr>
      </ng-template>
    </p-table>
    <div class="p-grid" style="text-align:center">
      <div class="p-col">
        <span *ngIf="droneSource.length == 0">
          <p>Nenhum Drone Cadastrado!</p>
        </span>
      </div>
    </div>
  </p-accordionTab>
</p-accordion>